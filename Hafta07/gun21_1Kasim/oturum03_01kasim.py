# -*- coding: utf-8 -*-
"""oturum03_01Kasim.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1G1FWlCefPKSCH_vm-W2DGsvgl4NEgmUJ

#axis parametesi

**Axis Nedir?**

Axis, bir dizide iÅŸlem yapÄ±lacak boyutu/ekseni ifade eder.

* Axis 0 (satÄ±rlar boyunca iÅŸlem)
â†’ SÃ¼tunlar Ã¼zerinde iÅŸlem yapÄ±lÄ±r
(Yani her sÃ¼tun iÃ§in iÅŸlem yapÄ±lÄ±r)

* Axis 1 (sÃ¼tÄ±rlar Ã¼zerinde iÅŸlem)
â†’ SatÄ±rlar Ã¼zerinde iÅŸlem yapÄ±lÄ±r
(Yani her satÄ±r iÃ§in iÅŸlem yapÄ±lÄ±r)

Matrix:  
[[ 1  2  3  4]   â† axis=1 â†’ [1+2+3+4 = 10]  
 [ 5  6  7  8]   â† axis=1 â†’ [5+6+7+8 = 26]    
 [ 9 10 11 12]]  â† axis=1 â†’ [9+10+11+12 = 42]  

  â†‘  â†‘  â†‘  â†‘  
  |  |  |  |  
  â†“  â†“  â†“  â†“  
  [15,18,21,24]
"""

import numpy as np

# 3x4'lÃ¼k Ã¶rnek matrix
matrix = np.array([[1, 2, 3, 4],
                   [5, 6, 7, 8],
                   [9, 10, 11, 12]])

print("Orijinal matrix:\n", matrix)
print("shape:", matrix.shape)  # (3, 4)

# axis=0: SÃ¼tunlar boyunca (her sÃ¼tundan bir deÄŸer)
print("axis=0 (sÃ¼tunlar boyunca):")
print("Sum:", np.sum(matrix, axis=0))    # [1+5+9, 2+6+10, 3+7+11, 4+8+12] = [15, 18, 21, 24]
print("Mean:", np.mean(matrix, axis=0))  # [5, 6, 7, 8]

# axis=1: SatÄ±rlar boyunca (her satÄ±rdan bir deÄŸer)
print("axis=1 (satÄ±rlar boyunca):")
print("Sum:", np.sum(matrix, axis=1))    # [1+2+3+4, 5+6+7+8, 9+10+11+12] = [10, 26, 42]
print("Mean:", np.mean(matrix, axis=1))  # [2.5, 6.5, 10.5]

"""#Dizilerde Toplama sum"""

import numpy as np

# Basit bir dizi oluÅŸturalÄ±m
a = np.array([1, 2, 3, 4, 5])
print("Dizi:", a)

# TÃ¼m elemanlarÄ±n toplamÄ±
toplam = np.sum(a)
print("Toplam:", toplam)  # Ã‡Ä±ktÄ±: 15

# 2 boyutlu dizi Ã¶rneÄŸi
b = np.array([[1, 2, 3],
              [4, 5, 6]])

print("2D dizi:\n", b)

# TÃ¼m elemanlarÄ±n toplamÄ±
print("TÃ¼m elemanlarÄ±n toplamÄ±:", np.sum(b))  # 21

# SatÄ±rlarÄ±n toplamÄ± (axis=1)
print("SatÄ±r toplamlarÄ±:", np.sum(b, axis=1))  # [6, 15]

# SÃ¼tunlarÄ±n toplamÄ± (axis=0)
print("SÃ¼tun toplamlarÄ±:", np.sum(b, axis=0))  # [5, 7, 9]

#np.sum() fonksiyonu, bir dizideki tÃ¼m elemanlarÄ±n toplamÄ±nÄ± verir.
#Ã‡ok boyutlu dizilerde eksen (axis) belirleyerek
#satÄ±r veya sÃ¼tun bazÄ±nda da toplam alabilirsiniz.

#axis=0 â†’ sÃ¼tunlar boyunca iÅŸlem yapar (yani satÄ±rlar birleÅŸtirilir)
#axis=1 â†’ satÄ±rlar boyunca iÅŸlem yapar (yani sÃ¼tunlar birleÅŸtirilir)

"""# ortalama hesaplama mean

Not: Ortalama, toplam / eleman sayÄ±sÄ± formÃ¼lÃ¼yle hesaplanÄ±r. np.mean() otomatik olarak bunu yapar.
"""

# AynÄ± diziyi kullanalÄ±m
a = np.array([1, 2, 3, 4, 5])
ortalama = np.mean(a)
print("Ortalama:", ortalama)  # 3.0

np.median(a) #ortadaki deÄŸeri verir

# 2D dizi ile
b = np.array([[1, 2, 3],
              [4, 5, 6]])

print("Genel ortalama:", np.mean(b))           # 3.5
print("SatÄ±r ortalamalarÄ±:", np.mean(b, axis=1))  # [2.0, 5.0]
print("SÃ¼tun ortalamalarÄ±:", np.mean(b, axis=0))  # [2.5, 3.5, 4.5]

"""#np.std() â€“ Standart Sapma

Standart sapma, verinin ne kadar daÄŸÄ±nÄ±k olduÄŸunu gÃ¶sterir.

Standart sapma hesaplanÄ±rken izlenecek adÄ±mlar:
1) Verilerin aritmetik ortalamasÄ± bulunur
2) Her bir veri ile aritmetik ortalama arasÄ±ndaki fark bulunur.
3) Bulunan farklarÄ±n her birinin karesi alÄ±nÄ±r ve elde edilen sayÄ±lar toplanÄ±r.
4) Bu toplam, veri sayÄ±sÄ±nÄ±n 1 eksiÄŸine bÃ¶lÃ¼nÃ¼r ve bÃ¶lÃ¼mÃ¼n karekÃ¶kÃ¼ bulunur.


Ä°pucu: VarsayÄ±lan olarak NumPy popÃ¼lasyon standart sapmasÄ±nÄ± hesaplar (yani N'e bÃ¶ler). Ã–rneklem standart sapmasÄ± istiyorsanÄ±z ddof=1 parametresi ekleyin:
`np.std(a, ddof=1)`
"""

a = np.array([1, 2, 3, 4, 5])
std = np.std(a)
print("Standart sapma:", std)  # yaklaÅŸÄ±k 1.414

# 2D dizi
b = np.array([[1, 2, 3],
              [4, 5, 6]])
print("Genel standart sapma:", np.std(b))
print("SatÄ±r bazlÄ± standart sapma:", np.std(b, axis=1))
print("SÃ¼tun bazlÄ± standart sapma:", np.std(b, axis=0))

# toplama, standart sapma ve ortalama, max - min

import numpy as np

# Deneme Verisi: 5 Ã–ÄŸrencinin 3 SÄ±navdan AldÄ±ÄŸÄ± Notlar (5x3 Matris)
# SatÄ±rlar: Ã–ÄŸrenciler, SÃ¼tunlar: SÄ±navlar
notlar = np.array([
    [90, 85, 70],
    [60, 75, 80],
    [95, 90, 92],
    [70, 65, 88],
    [80, 70, 75]
])
print("Not Matrisi (5x3):\n", notlar)

# a) Toplam (Sum): TÃ¼m dizinin toplamÄ±
toplam_not = np.sum(notlar)
print(f"\n1. Toplam Not: {toplam_not}")

# b) Ortalama (Mean): TÃ¼m dizinin ortalamasÄ±
ortalama_not = np.mean(notlar)
print(f"2. Genel Ortalama: {ortalama_not:.2f}")

# c) Standart Sapma (Std): Verilerin ortalamadan ne kadar saptÄ±ÄŸÄ±
std_sapma = np.std(notlar)
print(f"3. Standart Sapma: {std_sapma:.2f}")

# d) Min/Max: En kÃ¼Ã§Ã¼k ve en bÃ¼yÃ¼k notlar
min_not = np.min(notlar)
max_not = np.max(notlar)
print(f"4. En DÃ¼ÅŸÃ¼k Not: {min_not}")
print(f"5. En YÃ¼ksek Not: {max_not}")

# 1. axis=0: SÄ±nav OrtalamalarÄ± (SÃ¼tunlar boyunca iÅŸlem yap)
sinav_ortalamalari = notlar.mean(axis=0)
print(f"\nSÄ±nav OrtalamalarÄ± (Axis=0):\n{sinav_ortalamalari.round(2)}")
# Ã‡Ä±ktÄ±: [79.00 77.00 81.00] (Her bir sÄ±navÄ±n ortalamasÄ±)

# 2. axis=1: Ã–ÄŸrenci OrtalamalarÄ± (SatÄ±rlar boyunca iÅŸlem yap)
ogrenci_ortalamalari = notlar.mean(axis=1)
print(f"Ã–ÄŸrenci OrtalamalarÄ± (Axis=1):\n{ogrenci_ortalamalari.round(2)}")
# Ã‡Ä±ktÄ±: [81.67 71.67 92.33 74.33 75.00] (Her bir Ã¶ÄŸrencinin ortalamasÄ±)

# Argmin / Argmax: En kÃ¼Ã§Ã¼k/bÃ¼yÃ¼k deÄŸerin KENDÄ°SÄ°NÄ°N deÄŸil, Ä°NDEKSÄ°NÄ° dÃ¶ndÃ¼rÃ¼r.

# Genel: Dizideki en bÃ¼yÃ¼k notun dÃ¼zleÅŸtirilmiÅŸ indeksi
en_yuksek_indeks = notlar.argmax()
print(f"\nEn YÃ¼ksek Notun Genel Ä°ndeksi: {en_yuksek_indeks}") # 7 (dizide 95'in konumu)

# Axis=1: Her Ã¶ÄŸrencideki en yÃ¼ksek notun sÄ±nav indeksini bulma
en_yuksek_sinav_indeksi = notlar.argmax(axis=1)
print(f"Her Ã–ÄŸrenci Ä°Ã§in En YÃ¼ksek SÄ±nav Ä°ndeksi (Axis=1): {en_yuksek_sinav_indeksi}")
# Ã‡Ä±ktÄ±: [0 2 0 2 0] -> 1. Ã¶ÄŸrenci 0. sÄ±navda, 2. Ã¶ÄŸrenci 2. sÄ±navda en yÃ¼ksek almÄ±ÅŸ.

# KÃ¼mÃ¼latif Ä°ÅŸlemler (cumsum): Birikimli Toplam
# GerÃ§ek Hayat Ã–rneÄŸi: GÃ¼nlÃ¼k SatÄ±ÅŸlarÄ±n KÃ¼mÃ¼latif ToplamÄ±
gunluk_satislar = np.array([100, 150, 80, 200, 120])
kumuletif_satis = gunluk_satislar.cumsum()
print(f"\nKÃ¼mÃ¼latif SatÄ±ÅŸlar: {kumuletif_satis}")
# Ã‡Ä±ktÄ±: [100 250 330 530 650]

#kÃ¼mÃ¼latif Ã§arpÄ±m birikimli Ã§arpÄ±m
growth = np.array([1.10, 1.20, 1.05])
np.cumprod(growth)  # [1.10, 1.32, 1.386]

"""DiÄŸer istatistiki iÅŸlemler

âœ” diff() â†’ ardÄ±ÅŸÄ±k farklar
âœ” sort() ve argsort() â†’ sÄ±ralama ve indeks sÄ±ralama
âœ” unique() â†’ benzersiz deÄŸerler
âœ” where() â†’ koÅŸullu indeksleme
âœ” percentile() â†’ % deÄŸer analizi (istatistikte Ã¶nemli)
"""

"""
np.diff() â†’ ArdÄ±ÅŸÄ±k Farklar

Bir dizideki ardÄ±ÅŸÄ±k elemanlar arasÄ±ndaki farklarÄ± dÃ¶ndÃ¼rÃ¼r.
"""
import numpy as np

a = np.array([10, 15, 20, 18, 30])
print(np.diff(a))

"""#sort() ve argsort() â†’ SÄ±ralama & Ä°ndeks SÄ±rasÄ±"""

x = np.array([3, 1, 5, 4])
print(np.sort(x))
print(np.argsort(x))

"""#np.unique benzersiz deÄŸerler"""

a = np.array([1,2,3,3,2,4,5,5])
print(np.unique(a))


#freakans almak iÃ§in
values, counts = np.unique(a, return_counts=True)
print(values, counts)

"""np.percentile() â†’ YÃ¼zdelik Dilim Analizi

Ä°statistikte kutucuk grafiÄŸi (boxplot) temelidir, ML ve veri analizinde Ã§ok Ã¶nemli
"""

data = np.array([10, 20, 30, 40, 50, 60, 70, 80])

print(np.percentile(data, 50))  # Median
print(np.percentile(data, 25))  # Q1
print(np.percentile(data, 75))  # Q3

"""# all ve any kullanÄ±mÄ±"""

dizi = np.random.randint(1,10,(5,5))
dizi

np.all(dizi > 5)
np.all(dizi > 2)

np.any(dizi > 9)
np.any(dizi > 8)

"""#np.where ile koÅŸullu iÅŸlemler
deÄŸer atama ve filtreleme de kullanÄ±lÄ±r
"""

#Basit KullanÄ±m: KoÅŸul â†’ DoÄŸruysa X, YanlÄ±ÅŸsa Y

a = np.array([1, 2, 3, 4, 5])

# Eleman 3'ten bÃ¼yÃ¼kse "yÃ¼ksek", deÄŸilse "dÃ¼ÅŸÃ¼k" yaz
sonuc = np.where(a > 3, "yÃ¼ksek", "dÃ¼ÅŸÃ¼k")
print(sonuc)  # ['dÃ¼ÅŸÃ¼k' 'dÃ¼ÅŸÃ¼k' 'dÃ¼ÅŸÃ¼k' 'yÃ¼ksek' 'yÃ¼ksek']

#SayÄ±sal DeÄŸerlerle KullanÄ±m
# Eleman 3'ten bÃ¼yÃ¼kse 100, deÄŸilse -100
b = np.where(a > 3, 100, -100)
print(b)  # [-100 -100 -100  100  100]

#Sadece KoÅŸulu SaÄŸlayan Ä°ndeksleri Bulma

# a > 3 koÅŸulunu saÄŸlayan elemanlarÄ±n indekslerini al
indeksler = np.where(a > 3)
print("KoÅŸulu saÄŸlayan indeksler:", indeksler[0])  # [3 4]

# Bu indeksleri kullanarak deÄŸerleri alabiliriz
print("KoÅŸulu saÄŸlayan deÄŸerler:", a[indeksler])  # [4 5]

"""

Alternatif: a[a > 3] yazarak doÄŸrudan filtreleme yapabilirsiniz.
np.where daha esnektir Ã§Ã¼nkÃ¼ Ã¼Ã§lÃ¼ (koÅŸul, doÄŸru, yanlÄ±ÅŸ) kullanÄ±m sunar. """

# GerÃ§ek Hayat Ã–rneÄŸi: KarlÄ±lÄ±k SÃ¼tunu OluÅŸturma
# Kar: > 0, Zarar: < 0, NÃ¶tr: = 0
gelirler = np.array([1000, 800, 1200, 950])
maliyetler = np.array([850, 900, 1100, 950])

kar_zarar = gelirler - maliyetler
print(f"Kar/Zarar: {kar_zarar}") # [ 150 -100  100    0]

# KoÅŸullu DÃ¶nÃ¼ÅŸÃ¼m 1: Pozitifse 1, Negatifse -1, SÄ±fÄ±rsa 0
kar_zarar_durumu = np.where(kar_zarar > 0, 1, # Kar varsa 1
                           np.where(kar_zarar < 0, -1, 0)) # Zarar varsa -1, yoksa 0 (NÃ¶tr)
print(f"Kar/Zarar Durumu (1, -1, 0): {kar_zarar_durumu}")

# GerÃ§ek Hayat Ã–rneÄŸi 2: Veri SÄ±nÄ±rlama (Outlier/UÃ§ DeÄŸer TemizliÄŸi)
# NotlarÄ± en az 50 ve en fazla 100 ile sÄ±nÄ±rlama (50'den dÃ¼ÅŸÃ¼kse 50 yap)
sinif_notlari = np.array([30, 75, 105, 45, 90])

sinirlanmis_notlar = np.where(sinif_notlari < 50, 50, # 50'den dÃ¼ÅŸÃ¼kse 50 yap
                              np.where(sinif_notlari > 100, 100, sinif_notlari)) # 100'den bÃ¼yÃ¼kse 100 yap, deÄŸilse kendi deÄŸerini koru
print(f"\nSÄ±nÄ±rlÄ± Notlar: {sinirlanmis_notlar}")

#where karÄ±ÅŸÄ±k problemler

print("\n" + "="*60)
print("=== 3. np.where() ve KOÅULLU Ä°ÅLEMLER ===\n")

# Ã–rnek: Ã–ÄŸrenci notlarÄ± Ã¼zerinde koÅŸullu iÅŸlemler
ogrenci_notlari = np.array([45, 67, 82, 91, 58, 73, 39, 88, 76, 62, 55, 95])
print("Ã–ÄŸrenci notlarÄ±:", ogrenci_notlari)

# 3.1 TEMEL np.where() KULLANIMI
print("\n3.1 TEMEL np.where() KULLANIMI:")

# KoÅŸul: Not 60 ve Ã¼zeri ise "GeÃ§ti", deÄŸilse "KaldÄ±"
durumlar = np.where(ogrenci_notlari >= 60, "GeÃ§ti", "KaldÄ±")
print("Durumlar:", durumlar)

# 3.2 Ä°Ã‡ Ä°Ã‡E np.where() - Ã‡OKLU KOÅULLAR
print("\n3.2 Ä°Ã‡ Ä°Ã‡E np.where() - HARF NOTLARI:")

harf_notlari = np.where(ogrenci_notlari >= 90, 'A',
               np.where(ogrenci_notlari >= 80, 'B',
               np.where(ogrenci_notlari >= 70, 'C',
               np.where(ogrenci_notlari >= 60, 'D', 'F'))))

print("Harf notlarÄ±:", harf_notlari)

# 3.3 KOÅULU SAÄLAYAN Ä°NDEKSLERÄ° BULMA
print("\n3.3 KOÅULU SAÄLAYAN Ä°NDEKSLER:")

gecen_ogrenci_indeks = np.where(ogrenci_notlari >= 60)[0]
kalan_ogrenci_indeks = np.where(ogrenci_notlari < 60)[0]

print(f"GeÃ§en Ã¶ÄŸrenci indeksleri: {gecen_ogrenci_indeks}")
print(f"GeÃ§en Ã¶ÄŸrenci notlarÄ±: {ogrenci_notlari[gecen_ogrenci_indeks]}")
print(f"Kalan Ã¶ÄŸrenci sayÄ±sÄ±: {len(kalan_ogrenci_indeks)}")

# 3.4 np.select() - DAHA OKUNABÄ°LÄ°R Ã‡OKLU KOÅULLAR
print("\n3.4 np.select() Ä°LE Ã‡OKLU KOÅULLAR:")

kosullar = [
    ogrenci_notlari >= 90,                    # KoÅŸul 1: A
    (ogrenci_notlari >= 80) & (ogrenci_notlari < 90),  # KoÅŸul 2: B
    (ogrenci_notlari >= 70) & (ogrenci_notlari < 80),  # KoÅŸul 3: C
    (ogrenci_notlari >= 60) & (ogrenci_notlari < 70),  # KoÅŸul 4: D
    ogrenci_notlari < 60                      # KoÅŸul 5: F
]

secimler = ['MÃ¼kemmel', 'Ä°yi', 'Orta', 'GeÃ§er', 'BaÅŸarÄ±sÄ±z']

derecelendirme = np.select(kosullar, secimler, default='Belirsiz')
print("Derecelendirme:", derecelendirme)

# 3.5 KOÅULLU DEÄER ATAMA ve FÄ°LTRELEME
print("\n3.5 KOÅULLU DEÄER ATAMA:")

# NotlarÄ± 10 puanlÄ±k dilimlere gÃ¶re kategorize etme
not_dilimleri = np.digitize(ogrenci_notlari, bins=[0, 50, 60, 70, 80, 90, 100])
dilim_etiketleri = ['0-49', '50-59', '60-69', '70-79', '80-89', '90-100']
kategorize_notlar = [dilim_etiketleri[i-1] for i in not_dilimleri]

print("Not dilimleri:", kategorize_notlar)

# 3.6 GERÃ‡EK HAYAT UYGULAMASI: MAAÅ ZAM HESAPLAMA
print("\n3.6 GERÃ‡EK HAYAT UYGULAMASI - MAAÅ ZAM HESAPLAMA:")

calisan_maaslari = np.array([25000, 32000, 18000, 45000, 28000, 38000, 22000])
calisan_performans = np.array([85, 92, 65, 95, 78, 88, 72])  # 0-100 arasÄ±

# Performansa gÃ¶re zam oranlarÄ±
zam_oranlari = np.where(calisan_performans >= 90, 0.15,        # %15 zam
               np.where(calisan_performans >= 80, 0.10,        # %10 zam
               np.where(calisan_performans >= 70, 0.05, 0.02))) # %5 veya %2 zam

yeni_maaslar = calisan_maaslari * (1 + zam_oranlari)

print("Eski maaÅŸlar:", calisan_maaslari)
print("Performans puanlarÄ±:", calisan_performans)
print("Zam oranlarÄ±:", zam_oranlari)
print("Yeni maaÅŸlar:", yeni_maaslar.astype(int))

"""
PERFORMANS KARÅILAÅTIRMASI:
NumPy (VektÃ¶rel) vs Python (DÃ¶ngÃ¼lÃ¼)

NumPy avantajlarÄ±:
- Daha hÄ±zlÄ± (C seviyesinde optimize)
- Daha az bellek kullanÄ±mÄ±
- Daha okunabilir kod
- Paralel iÅŸlem avantajÄ±
"""

"""#np.nan Not a Number

np.nan (Not a Number), kayÄ±p veya tanÄ±msÄ±z sayÄ±sal veriyi temsil eder.

GerÃ§ek dÃ¼nya verilerinde eksik veri (NaN â€“ Not a Number) sÄ±k karÅŸÄ±laÅŸÄ±lan bir durumdur.
"""

# np.nan bir Ã¶zel deÄŸerdir
print(np.nan)  # nan

# np.nan ile herhangi bir karÅŸÄ±laÅŸtÄ±rma False dÃ¶ner!
print(np.nan == np.nan)  # False â—
print(np.nan is np.nan)  # True (ama bu gÃ¼venilmez)

# DoÄŸru kontrol: np.isnan()
print(np.isnan(np.nan))  # True

#nan ile istatistik

veri = np.array([1, 2, np.nan, 4, 5])
print("Veri:", veri)

# Normal ortalama â†’ nan dÃ¶ner!
print("Normal ortalama:", np.mean(veri))  # nan

# NaN'leri yok sayarak ortalama â†’ np.nanmean()
print("NaN'leri yok sayarak ortalama:", np.nanmean(veri))  # 3.0

# Benzer ÅŸekilde:
print("Toplam (NaN yok sayÄ±lÄ±r):", np.nansum(veri))      # 12.0
print("Standart sapma (NaN yok sayÄ±lÄ±r):", np.nanstd(veri))  # ~1.58

#Kural: np.nan iÃ§eren dizilerde
#np.nan... fonksiyonlarÄ±nÄ± kullanÄ±n (nanmean, nanstd, nansum vb.)

# EÄŸer deÄŸer 3'ten kÃ¼Ã§Ã¼kse nan, deÄŸilse kendisi kalsÄ±n
veri2 = np.where(veri < 3, np.nan, veri)
print("Yeni veri:", veri2)  # [nan nan nan 4. 5.]

# OrtalamayÄ± alalÄ±m (nan'leri yok sayarak)
print("Ortalama:", np.nanmean(veri2))  # 4.5

# KayÄ±p veri iÃ§eren bir dizi oluÅŸturma
veri_nan = np.array([10, 20, np.nan, 40, 50])
print(f"KayÄ±p Veri Ä°Ã§eren Dizi: {veri_nan}")

# Standart istatistikler NAN ile Ã§alÄ±ÅŸmaz!
ortalama_normal = np.mean(veri_nan)
print(f"\nNormal Ortalama (np.nan nedeniyle bozulur): {ortalama_normal}")
# Ã‡Ä±ktÄ±: nan

# np.isnan(): Hangi elemanlarÄ±n kayÄ±p olduÄŸunu kontrol etme
nan_maskesi = np.isnan(veri_nan)
print(f"np.isnan() Maskesi: {nan_maskesi}")
# Ã‡Ä±ktÄ±: [False False  True False False]

# Nan-aware Ä°statistikler: KayÄ±p veriyi atlayarak doÄŸru sonucu alma
ortalama_nan_aware = np.nanmean(veri_nan)
print(f"Nan-Aware Ortalama (np.nanmean): {ortalama_nan_aware:.2f}")
# Ã‡Ä±ktÄ±: 30.00 ( (10+20+40+50) / 4 )

# Nan-aware Toplam
toplam_nan_aware = np.nansum(veri_nan)
print(f"Nan-Aware Toplam (np.nansum): {toplam_nan_aware}")
# Ã‡Ä±ktÄ±: 120.0

#nan karÄ±ÅŸÄ±k Ã¶rnekler

print("\n" + "="*60)
print("=== 4. NaN DEÄERLERÄ° ve EKSÄ°K VERÄ° YÃ–NETÄ°MÄ° ===\n")

# 4.1 NaN OLUÅTURMA ve TESPÄ°T ETME
print("4.1 NaN OLUÅTURMA ve TESPÄ°T ETME:")

# SensÃ¶r verisi Ã¶rneÄŸi (bazÄ± Ã¶lÃ§Ã¼mler baÅŸarÄ±sÄ±z)
sensor_verisi = np.array([23.5, 24.1, np.nan, 25.8, np.nan, 26.3, 24.9, np.nan, 25.5])
print("SensÃ¶r verisi (NaN'lar ile):", sensor_verisi)

# NaN tespit fonksiyonlarÄ±
nan_maskesi = np.isnan(sensor_verisi)
print("NaN maskesi (True=NaN):", nan_maskesi)
print("Toplam NaN sayÄ±sÄ±:", np.sum(nan_maskesi))

# NaN olmayan deÄŸerleri seÃ§me
gecerli_veri = sensor_verisi[~nan_maskesi]  # ~ operatÃ¶rÃ¼: DEÄÄ°L
print("GeÃ§erli veri:", gecerli_veri)

# 4.2 NaN DOSTU Ä°STATÄ°STÄ°KSEL FONKSÄ°YONLAR
print("\n4.2 NaN DOSTU FONKSÄ°YONLAR:")

print("Normal ortalama (NaN'ler hata verir):", np.mean(sensor_verisi))
print("NaN dostu ortalama:", np.nanmean(sensor_verisi))
print("NaN dostu standart sapma:", np.nanstd(sensor_verisi))
print("NaN dostu toplam:", np.nansum(sensor_verisi))
print("NaN dostu minimum:", np.nanmin(sensor_verisi))

# 4.3 EKSÄ°K VERÄ° DOLDURMA STRATEJÄ°LERÄ°
print("\n4.3 EKSÄ°K VERÄ° DOLDURMA STRATEJÄ°LERÄ°:")

# Strateji 1: Sabit deÄŸerle doldurma
doldurulmus_1 = sensor_verisi.copy()
doldurulmus_1[nan_maskesi] = 0
print("1. SÄ±fÄ±r ile doldurma:", doldurulmus_1)

# Strateji 2: Ortalama ile doldurma
ortalama_deger = np.nanmean(sensor_verisi)
doldurulmus_2 = sensor_verisi.copy()
doldurulmus_2[nan_maskesi] = ortalama_deger
print("2. Ortalama ile doldurma:", doldurulmus_2)

# Strateji 3: Medyan ile doldurma
medyan_deger = np.nanmedian(sensor_verisi)
doldurulmus_3 = sensor_verisi.copy()
doldurulmus_3[nan_maskesi] = medyan_deger
print("3. Medyan ile doldurma:", doldurulmus_3)

# 4.4 DOÄRUSAL Ä°NTERPOLASYON
print("\n4.4 DOÄRUSAL Ä°NTERPOLASYON:")

def linear_interpolate(dizi):
    """NaN deÄŸerleri doÄŸrusal interpolasyon ile doldurur"""
    nans = np.isnan(dizi)
    # NaN olmayan indeksleri bul
    x = lambda z: z.nonzero()[0]
    # Interpolasyon uygula
    dizi[nans] = np.interp(x(nans), x(~nans), dizi[~nans])
    return dizi

interpole_veri = linear_interpolate(sensor_verisi.copy())
print("Ä°nterpolasyon ile doldurulmuÅŸ:", interpole_veri)

# 4.5 SONSUZ DEÄERLERLE Ã‡ALIÅMA
print("\n4.5 SONSUZ DEÄERLERLE Ã‡ALIÅMA:")

sonsuz_dizi = np.array([1, 2, np.inf, 4, -np.inf, 6, np.nan])
print("Orijinal dizi:", sonsuz_dizi)
print("Sonsuz deÄŸerler:", np.isinf(sonsuz_dizi))
print("Sonlu deÄŸerler:", np.isfinite(sonsuz_dizi))
print("NaN deÄŸerler:", np.isnan(sonsuz_dizi))

# Sonsuz deÄŸerleri temizleme
sonlu_veri = sonsuz_dizi[np.isfinite(sonsuz_dizi)]
print("Sonlu deÄŸerler:", sonlu_veri)

# 4.6 GERÃ‡EK HAYAT UYGULAMASI: HAVA DURUMU VERÄ°SÄ°
print("\n4.6 GERÃ‡EK HAYAT UYGULAMASI - HAVA DURUMU VERÄ°SÄ°:")

# 7 gÃ¼nlÃ¼k sÄ±caklÄ±k verisi (bazÄ± gÃ¼nler Ã¶lÃ§Ã¼m yapÄ±lamamÄ±ÅŸ)
sicaklik_verisi = np.array([22.5, np.nan, 24.1, 23.8, np.nan, 25.2, 24.7])
print("Ham sÄ±caklÄ±k verisi:", sicaklik_verisi)

# Eksik veri analizi
print("Eksik veri sayÄ±sÄ±:", np.sum(np.isnan(sicaklik_verisi)))
print("Eksik veri oranÄ±: %{:.1f}".format(np.mean(np.isnan(sicaklik_verisi)) * 100))

# Ã‡oklu doldurma stratejileri karÅŸÄ±laÅŸtÄ±rmasÄ±
strategiler = {
    'Ortalama': np.nanmean(sicaklik_verisi),
    'Medyan': np.nanmedian(sicaklik_verisi),
    'KomÅŸu Ortalama': np.nanmean([22.5, 24.1]),  # Ã–nceki ve sonraki deÄŸerler
    'Mevsimsel Ortalama': 23.0  # Tarihsel veri
}

print("\nDoldurma stratejileri karÅŸÄ±laÅŸtÄ±rmasÄ±:")
for strateji, deger in strategiler.items():
    tam_veri = sicaklik_verisi.copy()
    tam_veri[np.isnan(sicaklik_verisi)] = deger
    print(f"  {strateji}: {tam_veri}")

"""
EKSÄ°K VERÄ° STRATEJÄ° SEÃ‡Ä°MÄ°:
- KÃ¼Ã§Ã¼k veri setleri: Ä°nterpolasyon veya komÅŸu deÄŸerler
- BÃ¼yÃ¼k veri setleri: Ortalama/Medyan doldurma
- Zaman serileri: Ã–nceki deÄŸerle doldurma (forward fill)
- Kritik uygulamalar: Ã‡oklu imputation yÃ¶ntemleri
"""

"""# np.loadtxt() ile dosya iÅŸlemleri:"""

#colab Ã¼zerinde dosya oluÅŸturma
# Ã–rnek veri dosyasÄ± oluÅŸturalÄ±m
veri_icerik = """1.0,2.0,3.0
4.0,5.0,6.0
7.0,8.0,9.0"""

# DosyayÄ± kaydedelim
with open('veri.csv', 'w') as f:
    f.write(veri_icerik)

print("veri.csv dosyasÄ± oluÅŸturuldu.")

# VirgÃ¼lle ayrÄ±lmÄ±ÅŸ veriyi okuyalÄ±m
veri = np.loadtxt('veri.csv', delimiter=',')
print("Okunan veri:\n", veri)
print("Shape:", veri.shape)  # (3, 3)

# BaÅŸlÄ±klÄ± dosya oluÅŸturalÄ±m
veri_baslikli = """x,y,z
1.0,2.0,3.0
4.0,5.0,6.0
7.0,8.0,9.0"""

with open('veri_baslikli.csv', 'w') as f:
    f.write(veri_baslikli)

#EÄŸer dosyanÄ±zda sÃ¼tun isimleri varsa, skiprows kullanÄ±n:
# Ä°lk satÄ±rÄ± atlayarak oku
veri2 = np.loadtxt('veri_baslikli.csv', delimiter=',', skiprows=1)
print("BaÅŸlÄ±ksÄ±z veri:\n", veri2)

#eksik veri iÃ§eren dosya
veri_nan = """1.0,2.0,3.0
4.0,,6.0
7.0,8.0,"""

with open('veri_nan.csv', 'w') as f:
    f.write(veri_nan)

# BoÅŸ alanlar NaN olarak okunur (converters gerekli olabilir, ama basit durumlarda otomatik)
try:
    veri3 = np.loadtxt('veri_nan.csv', delimiter=',')
except ValueError as e:
    print("Hata:", e)
    print("np.loadtxt boÅŸ hÃ¼creleri otomatik NaN olarak okuyamaz.")

# ğŸ› ï¸ Ã‡Ã¶zÃ¼m: np.genfromtxt() daha esnektir ve missing_values parametresiyle eksik veriyi iÅŸleyebilir.
veri3 = np.genfromtxt('veri_nan.csv', delimiter=',', filling_values=np.nan)
print("Eksik veri ile okunan:\n", veri3)
print("Ortalama (NaN yok sayÄ±lÄ±r):", np.nanmean(veri3))

#Ã–neri: Basit ve temiz veriler iÃ§in loadtxt, eksik veri veya karmaÅŸÄ±k yapÄ±lar iÃ§in genfromtxt kullanÄ±n.

"""Metin tabanlÄ± (CSV, TXT) dosyalarÄ± doÄŸrudan NumPy dizisine yÃ¼klemek iÃ§in kullanÄ±lÄ±r.

SÃ¶z Dizimi: np.loadtxt(fname, delimiter=' ', skiprows=0, dtype=float)
"""

# AdÄ±m 1: Ã–rnek bir CSV dosyasÄ± oluÅŸturalÄ±m (Sadece pratik amaÃ§lÄ±)
# Veri: SÄ±caklÄ±k, Nem, RÃ¼zgar HÄ±zÄ±
# BaÅŸlÄ±klar
# 22.5,55.0,15.0
# 23.1,52.5,18.0
# 22.9,53.0,16.5
veri_str = """SÄ±caklÄ±k,Nem,RÃ¼zgarHÄ±zÄ±
22.5,55.0,15.0
23.1,52.5,18.0
22.9,53.0,16.5"""

with open("hava_verisi.csv", "w") as f:
    f.write(veri_str)
print("hava_verisi.csv dosyasÄ± oluÅŸturuldu.")


# AdÄ±m 2: np.loadtxt ile veriyi yÃ¼kleme
try:
    # Delimiter (ayÄ±raÃ§) = ',', BaÅŸlÄ±k satÄ±rÄ±nÄ± (1. satÄ±r) atla
    hava_verisi_np = np.loadtxt("hava_verisi.csv",
                                delimiter=",",
                                skiprows=1,
                                dtype=np.float64)
    print(f"\nâœ… YÃ¼klenen NumPy Dizisi (Shape: {hava_verisi_np.shape}):\n{hava_verisi_np}")
except Exception as e:
    print(f"Hata oluÅŸtu: {e}")

# AdÄ±m 3: YÃ¼klenen veri Ã¼zerinde Axis ile istatistik hesaplama
# SÃ¼tun bazÄ±nda ortalama (SÄ±caklÄ±k, Nem ve RÃ¼zgar HÄ±zÄ±'nÄ±n ortalamasÄ±)
ortalama_olcumler = hava_verisi_np.mean(axis=0)
print(f"\nOrtalama SÄ±caklÄ±k, Nem, HÄ±z: {ortalama_olcumler.round(2)}")

"""# Veriyi Kaydetme: np.savetxt()
NumPy dizisindeki analiz edilmiÅŸ veya dÃ¶nÃ¼ÅŸtÃ¼rÃ¼lmÃ¼ÅŸ veriyi diske kaydetmek.

SÃ¶z Dizimi: np.savetxt(fname, X, fmt='%.18e', delimiter=' ')
"""

# YÃ¼klenen veriyi (hava_verisi_np) alÄ±p, kaydedelim.
# fmt='%.2f': float deÄŸerleri 2 ondalÄ±k basamak hassasiyetiyle kaydet
# delimiter=',': AyraÃ§ olarak virgÃ¼l kullan
np.savetxt("analiz_edilmis_hava.csv",
           hava_verisi_np,
           fmt='%.2f',
           delimiter="," ,
           header="Sicaklik,Nem,RuzgarHizi",
           comments="# ") # Header ekle ve yorum satÄ±rÄ± karakterini belirle

print("\n'analiz_edilmis_hava.csv' dosyasÄ± kaydedildi (2 ondalÄ±k hassasiyetle).")

# Kaydedilen dosyayÄ± basitÃ§e okuyup kontrol edebiliriz
with open("analiz_edilmis_hava.csv", "r") as f:
    print("\nKaydedilen Dosya Ä°Ã§eriÄŸi:")
    print(f.read())

"""# Mini Proje
AmaÃ§: Bir veri dosyasÄ±ndan oku, eksik verileri tespit et, ortalama ve standart sapmayÄ± hesapla.
"""

# AdÄ±m 1: Veri dosyasÄ± oluÅŸtur
data = """85,90,,
92,,88,85
,78,82,90"""

with open('sinav_notlari.csv', 'w') as f:
    f.write(data)

# AdÄ±m 2: Oku
notlar = np.genfromtxt('sinav_notlari.csv', delimiter=',', filling_values=np.nan)
print("Notlar:\n", notlar)

# AdÄ±m 3: Her sÃ¼tunun (her sÄ±navÄ±n) ortalamasÄ±nÄ± hesapla
ortalama_sinav = np.nanmean(notlar, axis=0)
print("Her sÄ±navÄ±n ortalamasÄ±:", ortalama_sinav)

# AdÄ±m 4: Genel ortalama
genel_ortalama = np.nanmean(notlar)
print("Genel sÄ±nÄ±f ortalamasÄ±:", genel_ortalama)

#dosya iÅŸlemleri karÄ±ÅŸÄ±k Ã¶rnekler

print("\n" + "="*60)
print("=== 5. DOSYA Ä°ÅLEMLERÄ° - np.loadtxt() ve np.genfromtxt() ===\n")

import os

# 5.1 Ã–RNEK CSV DOSYASI OLUÅTURMA
print("5.1 Ã–RNEK CSV DOSYASI OLUÅTURMA:")

csv_icerik = """isim,yas,maas,departman,cinsiyet
Ali,25,50000,MÃ¼hendislik,E
AyÅŸe,30,60000,SatÄ±ÅŸ,K
Mehmet,35,75000,MÃ¼hendislik,E
Zeynep,28,55000,Ä°K,K
Fatma,32,48000,SatÄ±ÅŸ,K
Can,29,,MÃ¼hendislik,E
Deniz,27,52000,Ä°K,K
Emre,31,68000,SatÄ±ÅŸ,E"""

# DosyayÄ± kaydet
with open('calisanlar.csv', 'w', encoding='utf-8') as f:
    f.write(csv_icerik)

print("CSV dosyasÄ± oluÅŸturuldu: calisanlar.csv")

# 5.2 np.loadtxt() - BASÄ°T DOSYALAR Ä°Ã‡Ä°N
print("\n5.2 np.loadtxt() - BASÄ°T DOSYALAR Ä°Ã‡Ä°N:")

try:
    # Sadece sayÄ±sal sÃ¼tunlarÄ± okumaya Ã§alÄ±ÅŸ
    sayisal_veri = np.loadtxt('calisanlar.csv', delimiter=',', skiprows=1,
                             usecols=(1, 2), encoding='utf-8')
    print("loadtxt() baÅŸarÄ±lÄ±:\n", sayisal_veri)
except Exception as e:
    print(f"loadtxt() hatasÄ±: {e}")
    print("Neden: Eksik veri (NaN) iÃ§eren dosyalarda hata verir")

# 5.3 np.genfromtxt() - GELÄ°ÅMÄ°Å OKUMA
print("\n5.3 np.genfromtxt() - GELÄ°ÅMÄ°Å OKUMA:")

# TÃ¼m veriyi oku (eksik verileri handle ederek)
veri = np.genfromtxt('calisanlar.csv', delimiter=',', skip_header=1,
                     dtype=None, encoding='utf-8',
                     missing_values='', filling_values=0)

print("genfromtxt() ile okunan veri:")
print(veri)
print("Veri tipi:", veri.dtype)
print("Boyut:", veri.shape)

# 5.4 KONTROLLÃœ SÃœTUN OKUMA
print("\n5.4 KONTROLLÃœ SÃœTUN OKUMA:")

# Her sÃ¼tunu ayrÄ± ayrÄ± ve uygun tiplerde oku
isimler = np.genfromtxt('calisanlar.csv', delimiter=',', skip_header=1,
                       usecols=0, dtype='U10', encoding='utf-8')

yaslar = np.genfromtxt('calisanlar.csv', delimiter=',', skip_header=1,
                      usecols=1, dtype=int, encoding='utf-8')

maaslar = np.genfromtxt('calisanlar.csv', delimiter=',', skip_header=1,
                       usecols=2, dtype=float, encoding='utf-8',
                       missing_values='', filling_values=np.nan)  # NaN olarak iÅŸaretle

departmanlar = np.genfromtxt('calisanlar.csv', delimiter=',', skip_header=1,
                           usecols=3, dtype='U15', encoding='utf-8')

cinsiyetler = np.genfromtxt('calisanlar.csv', delimiter=',', skip_header=1,
                          usecols=4, dtype='U1', encoding='utf-8')

print("\nAyrÄ± ayrÄ± okunan sÃ¼tunlar:")
print("Ä°simler:", isimler)
print("YaÅŸlar:", yaslar)
print("MaaÅŸlar:", maaslar)
print("Departmanlar:", departmanlar)
print("Cinsiyetler:", cinsiyetler)

# 5.5 VERÄ° ANALÄ°ZÄ°
print("\n5.5 OKUNAN VERÄ° ÃœZERÄ°NDE ANALÄ°Z:")

print("Temel istatistikler:")
print(f"  Ortalama yaÅŸ: {np.mean(yaslar):.1f}")
print(f"  Ortalama maaÅŸ: {np.nanmean(maaslar):.0f} TL")
print(f"  Eksik maaÅŸ sayÄ±sÄ±: {np.sum(np.isnan(maaslar))}")

print("\nDepartman bazlÄ± analiz:")
for departman in np.unique(departmanlar):
    departman_maskesi = departmanlar == departman
    departman_maaslari = maaslar[departman_maskesi]
    gecerli_maaslar = departman_maaslari[~np.isnan(departman_maaslari)]

    if len(gecerli_maaslar) > 0:
        print(f"  {departman}: {len(gecerli_maaslar)} kiÅŸi, Ortalama: {np.mean(gecerli_maaslar):.0f} TL")

# 5.6 VERÄ°YÄ° DOSYAYA KAYDETME
print("\n5.6 VERÄ°YÄ° DOSYAYA KAYDETME:")

# Ä°ÅŸlenmiÅŸ veriyi birleÅŸtir
islenmis_veri = np.column_stack((isimler, yaslar, maaslar, departmanlar, cinsiyetler))

# CSV formatÄ±nda kaydet
np.savetxt('islenmis_calisanlar.csv', islenmis_veri, delimiter=',',
          fmt='%s', header='isim,yas,maas,departman,cinsiyet', comments='')

print("Ä°ÅŸlenmiÅŸ veri 'islenmis_calisanlar.csv' dosyasÄ±na kaydedildi")

# 5.7 FARKLI DOSYA FORMATLARI
print("\n5.7 FARKLI DOSYA FORMATLARI Ä°Ã‡Ä°N PARAMETRELER:")

parametreler = {
    'delimiter': "SÃ¼tun ayracÄ± (',', ';', '\\t', ' ')",
    'skiprows': "Atlanacak satÄ±r sayÄ±sÄ±",
    'usecols': "Okunacak sÃ¼tun indeksleri",
    'dtype': "Veri tipi (None, int, float, 'U10')",
    'encoding': "Dosya encoding'i ('utf-8', 'latin-1')",
    'missing_values': "Eksik veri iÅŸaretÃ§isi",
    'filling_values': "Eksik veri yerine konacak deÄŸer"
}

print("Ã–nemli parametreler:")
for param, aciklama in parametreler.items():
    print(f"  {param}: {aciklama}")

# Temizlik: OluÅŸturulan dosyalarÄ± sil
#os.remove('calisanlar.csv')
#os.remove('islenmis_calisanlar.csv')

"""
DOSYA OKUMA STRATEJÄ°LERÄ°:
- Temiz, sayÄ±sal veri: np.loadtxt()
- KarmaÅŸÄ±k, eksik veri iÃ§eren: np.genfromtxt()
- BÃ¼yÃ¼k dosyalar: Chunk okuma (iterator kullanÄ±mÄ±)
- Ã–zel formatlar: Pandas kÃ¼tÃ¼phanesi
"""

"""#kapsamlÄ± Ã¶rnek"""

"""
DetaylÄ±, aÃ§Ä±klamalÄ± NumPy Ã¶rnekleri â€” Ä°leri Seviye Ä°statistiksel Fonksiyonlar

Bu dosya, kullanÄ±cÄ±ya adÄ±m adÄ±m aÃ§Ä±klamalar ile birlikte aÅŸaÄŸÄ±daki konularÄ± gÃ¶sterir:
 - np.unique() ve return_counts kullanÄ±mÄ±
 - np.bincount() ile hÄ±zlÄ± tamsayÄ± sayÄ±mÄ± (sÄ±nÄ±rlamalar ve offset)
 - np.histogram() ile histogram oluÅŸturma, bins ve edges aÃ§Ä±klamasÄ±
 - Korelasyon (np.corrcoef) ve kovaryans (np.cov) hesaplama ve yorumlama
 - KÃ¼mÃ¼latif iÅŸlemler: np.cumsum, kÃ¼mÃ¼latif ortalama hesaplama
 - SÄ±ralama ve argsort: artan/azalan sÄ±ra, en Ã§ok/az satan seÃ§im
 - Finansal analiz Ã¶rneÄŸi: ortalama getiri, volatilite, Sharpe oranÄ±, kumulatif getiri, maksimum drawdown

Her blokta: amaÃ§, Ã¶nemli parametreler, sÄ±nÄ±rlar, hata/uyarÄ± notlarÄ± ve Ã¶rnek Ã§Ä±ktÄ± bulunur.
"""

import numpy as np

# -----------------------------------------------------------------------------
# Genel: ekran baÅŸlÄ±klarÄ±
# -----------------------------------------------------------------------------
print("\n" + "="*60)
print("=== 6. Ä°LERÄ° SEVÄ°YE Ä°STATÄ°STÄ°KSEL FONKSÄ°YONLAR ===\n")

# -----------------------------------------------------------------------------
# 6.1 np.unique() - BENZERSÄ°Z DEÄERLER ve FREKANSLAR
# -----------------------------------------------------------------------------
# AmaÃ§:
# - Bir kategorik dizide hangi benzersiz kategorilerin bulunduÄŸunu bulmak ve
#   her bir kategorinin kaÃ§ kere tekrarlandÄ±ÄŸÄ±nÄ± (frekans) hÄ±zlÄ± ÅŸekilde elde etmek.
# Ã–nemli parametreler:
# - return_counts: True verilirse her benzersiz deÄŸerin kaÃ§ kere geÃ§tiÄŸi dÃ¶ndÃ¼rÃ¼lÃ¼r.
# - return_index / return_inverse: farklÄ± indeks bilgileri almak iÃ§in kullanÄ±lÄ±r.
# Notlar:
# - np.unique sonucun sÄ±ralÄ± olacaÄŸÄ±nÄ± garanti eder (lexicographic order for strings),
#   bu yÃ¼zden frekanslar da bu sÄ±ralÄ± benzersiz deÄŸer sÄ±rasÄ±na karÅŸÄ±lÄ±k gelir.

print("6.1 np.unique() - BENZERSÄ°Z DEÄERLER:")

# MÃ¼ÅŸteri segment verisi (Ã¶rnek kategorik veri)
musteri_segmentleri = np.array(['A', 'B', 'A', 'C', 'B', 'A', 'A', 'C', 'B', 'A'])
print("MÃ¼ÅŸteri segmentleri:", musteri_segmentleri)

# return_counts=True ile benzersiz deÄŸerleri ve her birinin frekansÄ±nÄ± alÄ±yoruz
benzersiz_segmentler, frekanslar = np.unique(musteri_segmentleri, return_counts=True)
print("Benzersiz segmentler:", benzersiz_segmentler)
print("Frekanslar:", frekanslar)

# FrekanslarÄ± yÃ¼zde olarak da gÃ¶sterme - dÃ¶ngÃ¼ ile her segmentin oranÄ±
for segment, freq in zip(benzersiz_segmentler, frekanslar):
    oran = freq / len(musteri_segmentleri) * 100
    print(f"  Segment {segment}: {freq} mÃ¼ÅŸteri (%{oran:.1f})")

# Ek bilgi:
# - EÄŸer veride NaN veya None varsa, np.unique bu deÄŸerleri de benzersiz olarak dÃ¶ndÃ¼rebilir
#   (Ã¶rneÄŸin numpy.nan string'lerden ayrÄ± bir benzersiz deÄŸer olur). Kategorik veriler
#   iÃ§in pandas kullanmak daha esnek dÃ¶nÃ¼ÅŸler saÄŸlar.

# -----------------------------------------------------------------------------
# 6.2 np.bincount() - HIZLI TAMSAYI SAYIMI
# -----------------------------------------------------------------------------
# AmaÃ§:
# - BÃ¼tÃ¼n elemanlarÄ±n non-negative (>=0) tamsayÄ± olduÄŸu dizilerde hÄ±zlÄ± frekans sayÄ±mÄ±.
# Ã–nemli Notlar:
# - Girdi negatif sayÄ± iÃ§erirse hata verir.
# - Dizi deÄŸerleri 0..k aralÄ±ÄŸÄ±nda ise Ã§Ä±ktÄ± uzunluÄŸu k+1 olur.
# - EÄŸer deÄŸerler 1..5 aralÄ±ÄŸÄ±nda ise index 0 boÅŸ (sÄ±fÄ±r) kalÄ±r, buna dikkat et.

print("\n6.2 np.bincount() - HIZLI TAMSAYI SAYIMI:")

# MÃ¼ÅŸteri puanlarÄ± (1-5 arasÄ±) â€” dikkat: doÄŸrudan bincount'a koyarsak index 0 boÅŸ kalacak
musteri_puanlari = np.array([5, 4, 3, 5, 2, 4, 5, 3, 4, 5, 1, 4, 5, 3, 2])
print("MÃ¼ÅŸteri puanlarÄ±:", musteri_puanlari)

# EÄŸer puanlar 1..5 aralÄ±ÄŸÄ±nda ise, bincount Ã§Ä±ktÄ±sÄ± 0..5 index'lerini dÃ¶ndÃ¼recek
# ve index 0'Ä±n deÄŸeri sÄ±fÄ±r olacaktÄ±r (Ã§Ã¼nkÃ¼ hiÃ§ 0 puanÄ± yok).
puan_frekans = np.bincount(musteri_puanlari)
print("Puan frekanslarÄ± (index=puan):", puan_frekans)

# Daha okunabilir Ã§Ä±ktÄ±yÄ± 1'den baÅŸlayarak veriyoruz (puan 1..5 aralÄ±ÄŸÄ± bilinerek)
for puan in range(1, len(puan_frekans)):
    print(f"  {puan} yÄ±ldÄ±z: {puan_frekans[puan]} mÃ¼ÅŸteri")

# EÄŸer veri 0-ile baÅŸlÄ±yorsa (Ã¶r. 0-4 puanlama), bincount doÄŸrudan tam olarak eÅŸleÅŸir.
# Alternatif: eÄŸer puan aralÄ±ÄŸÄ±nÄ±z 1..k ise ve indeks 0'Ä± kullanmak isterseniz,
# "offset" mantÄ±ÄŸÄ±nÄ± manuel uygulayabilirsiniz:
# counts = np.bincount(scores - min_score)

# -----------------------------------------------------------------------------
# 6.3 np.histogram() - VERÄ° DAÄILIMI ANALÄ°ZÄ°
# -----------------------------------------------------------------------------
# AmaÃ§:
# - SÃ¼rekli veya geniÅŸ aralÄ±klÄ± sayÄ±sal verinin hangi aralÄ±klarda (bin'lerde) yoÄŸunlaÅŸtÄ±ÄŸÄ±nÄ±
#   gÃ¶rmek. np.histogram sayÄ±larÄ± sÄ±nÄ±flandÄ±rÄ±p her bin'in frekansÄ±nÄ± ve bin sÄ±nÄ±rlarÄ±nÄ± dÃ¶ndÃ¼rÃ¼r.
# Ã–nemli parametreler:
# - bins: int (eÅŸit geniÅŸlikte bins) veya bir dizi (Ã¶zelleÅŸtirilmiÅŸ sÄ±nÄ±rlar)
# - range: histogram iÃ§in kullanÄ±cÄ± tarafÄ±ndan sÄ±nÄ±r belirleme
# - density: True ise frekans yerine pdf (yoÄŸunluk) dÃ¶ndÃ¼rÃ¼r.

print("\n6.3 np.histogram() - VERÄ° DAÄILIMI:")

urun_fiyatlari = np.array([45, 120, 85, 220, 150, 95, 180, 75, 250, 130,
                          65, 200, 110, 170, 90])
print("ÃœrÃ¼n fiyatlarÄ±:", urun_fiyatlari)

# bins=5 demek, veri aralÄ±ÄŸÄ±nÄ± 5 eÅŸit geniÅŸlikli aralÄ±ÄŸa bÃ¶ler
hist_frekans, hist_sinirlar = np.histogram(urun_fiyatlari, bins=5)
print("Histogram frekanslarÄ±:", hist_frekans)
print("Histogram sÄ±nÄ±rlarÄ±:", hist_sinirlar)

print("\nFiyat daÄŸÄ±lÄ±mÄ±:")
for i in range(len(hist_frekans)):
    # sinirlar[i] inclusive ve sinirlar[i+1] exclusive (saÄŸ sÄ±nÄ±r son bin hariÃ§ dahil olabilir)
    print(f"  {hist_sinirlar[i]:.0f}-{hist_sinirlar[i+1]:.0f} TL: {hist_frekans[i]} Ã¼rÃ¼n")

# Not:
# - np.histogram sonuÃ§larÄ± kapalÄ±-aÃ§Ä±k aralÄ±k mantÄ±ÄŸÄ±nda dÃ¶ner (aÃ§Ä±klama: left-inclusive,
#   right-exclusive) fakat son binin saÄŸ sÄ±nÄ±rÄ± dahil olabilir. Bu kÃ¼Ã§Ã¼k nÃ¼ans belirli durumlarda Ã¶nemlidir.
# - EÄŸer Ã¶zel aralÄ±klar isterseniz bins = [0,50,100,150,200,300] gibi bir liste kullanÄ±n.

# -----------------------------------------------------------------------------
# 6.4 KORELASYON ve KOVARYANS
# -----------------------------------------------------------------------------
# AmaÃ§:
# - Ä°ki sayÄ±sal deÄŸiÅŸken arasÄ±ndaki doÄŸrusal iliÅŸkiyi Ã¶lÃ§mek (korelasyon) ve ortak
#   deÄŸiÅŸim miktarÄ±nÄ± hesaplamak (kovaryans).
# Temel fark:
# - Kovaryans: Ã¶lÃ§ektir (verinin birimleriyle Ã§arpÄ±lÄ±r), bÃ¼yÃ¼k deÄŸerler anlamlÄ± olabilir.
# - Korelasyon: normalize edilmiÅŸ kovaryans (Pearson), -1 ile +1 arasÄ±nda ve yorumlanmasÄ± kolay.
# Fonksiyonlar:
# - np.cov(x, y)[0,1] -> kovaryans (varsayÄ±lan ddof=1 -> Ã¶rnek kovaryans)
# - np.corrcoef(x, y)[0,1] -> Pearson korelasyon katsayÄ±sÄ±

print("\n6.4 KORELASYON ve KOVARYANS:")

gelir = np.array([25000, 32000, 28000, 45000, 38000, 29000, 41000])
harcama = np.array([18000, 22000, 20000, 32000, 28000, 21000, 30000])

# np.corrcoef iki deÄŸiÅŸkenden bir 2x2 matris dÃ¶ndÃ¼rÃ¼r: [[1, r],[r,1]]
korelasyon = np.corrcoef(gelir, harcama)[0, 1]
# np.cov dÃ¶ndÃ¼rdÃ¼ÄŸÃ¼ 2x2 matrisin Ã¼st-triangular veya [0,1] elementi ortak kovaryanstÄ±r
kovaryans = np.cov(gelir, harcama)[0, 1]

print(f"Gelir: {gelir}")
print(f"Harcama: {harcama}")
print(f"Korelasyon katsayÄ±sÄ±: {korelasyon:.3f}")
print(f"Kovaryans: {kovaryans:.2f}")

# Korelasyon yorum katmanlarÄ± â€” bunlar genel rehberlik iÃ§in basit eÅŸik deÄŸerleridir.
# GerÃ§ekte yorum, baÄŸlama ve veri setine gÃ¶re deÄŸiÅŸir (Ã¶r. p-deÄŸerleri, gÃ¶rselleÅŸtirme ile desteklenmelidir).
if korelasyon > 0.7:
    yorum = "GÃ¼Ã§lÃ¼ pozitif iliÅŸki"
elif korelasyon > 0.3:
    yorum = "Orta pozitif iliÅŸki"
elif korelasyon > -0.3:
    yorum = "ZayÄ±f iliÅŸki"
elif korelasyon > -0.7:
    yorum = "Orta negatif iliÅŸki"
else:
    yorum = "GÃ¼Ã§lÃ¼ negatif iliÅŸki"

print(f"Yorum: {yorum}")

# -----------------------------------------------------------------------------
# 6.5 KÃœMÃœLATÄ°F Ä°ÅLEMLER
# -----------------------------------------------------------------------------
# AmaÃ§:
# - Zaman veya sÄ±ralÄ± verilerde biriken etkiyi gÃ¶rmek: cumsum, cumprod, accumulate
# - KÃ¼mÃ¼latif ortalama: her adÄ±mda o gÃ¼ne kadar olan ortalamayÄ± verir
# Ã–nemli Parametreler/Dikkatler:
# - dtype: bÃ¼yÃ¼k tamsayÄ±larÄ±n taÅŸmasÄ±nÄ± Ã¶nlemek iÃ§in dtype belirtilebilir
# - np.cumsum, np.cumprod dÃ¶ndÃ¼rdÃ¼ÄŸÃ¼ dizinin dtype'sÄ±nÄ± dikkat eder (Ã¶rn. int32 taÅŸma olabilir)

print("\n6.5 KÃœMÃœLATÄ°F Ä°ÅLEMLER:")

aylik_satislar = np.array([12000, 15000, 13000, 18000, 16000, 20000])
print("AylÄ±k satÄ±ÅŸlar:", aylik_satislar)

kumulatif_toplam = np.cumsum(aylik_satislar)
# KÃ¼mÃ¼latif ortalama = (toplam so far) / (eleman sayÄ±sÄ± so far)
kumulatif_ortalama = kumulatif_toplam / np.arange(1, len(aylik_satislar) + 1)

print("KÃ¼mÃ¼latif toplam:", kumulatif_toplam)
# astype(int) ile gÃ¶sterirken kesirleri atÄ±yoruz; isterseniz float olarak bÄ±rakÄ±n
print("KÃ¼mÃ¼latif ortalama:", kumulatif_ortalama.astype(int))

# -----------------------------------------------------------------------------
# 6.6 SIRALAMA ve ARGSORT
# -----------------------------------------------------------------------------
# AmaÃ§:
# - argsort ile orijinal dizideki elemanlarÄ±n hangi indekslerde yer almasÄ± gerektiÄŸini
#   buluruz (sÄ±ralama indeksi)
# - argsort()[::-1] ile azalan sÄ±ra elde edilir
# Notlar:
# - numpy.argsort, default olarak quicksort benzeri bir yÃ¶ntem kullanÄ±r; stable sorting istenirse
#   kind='stable' verilebilir (Ã¶r. Ã§oklu kÄ±staslarda Ã¶nemlidir)

print("\n6.6 SIRALAMA ve ARGSORT:")

urun_satislari = np.array([150, 85, 220, 95, 180, 65, 240, 130])
print("ÃœrÃ¼n satÄ±ÅŸlarÄ±:", urun_satislari)

# argsort -> kÃ¼Ã§Ã¼kten bÃ¼yÃ¼ÄŸe indeks sÄ±rasÄ± verir
artan_sira_indeks = np.argsort(urun_satislari)
# ters Ã§evirme ile bÃ¼yÃ¼kten kÃ¼Ã§Ã¼ÄŸe indeks sÄ±rasÄ± elde ediyoruz
azalan_sira_indeks = artan_sira_indeks[::-1]

print("Artan sÄ±rada indeksler:", artan_sira_indeks)
print("Azalan sÄ±rada indeksler:", azalan_sira_indeks)

# En Ã§ok satan 3 Ã¼rÃ¼nÃ¼ azalan sÄ±ra indeks ile alÄ±yoruz
print("En Ã§ok satan 3 Ã¼rÃ¼n:", urun_satislari[azalan_sira_indeks[:3]])
print("En az satan 3 Ã¼rÃ¼n:", urun_satislari[artan_sira_indeks[:3]])

# -----------------------------------------------------------------------------
# 6.7 GERÃ‡EK HAYAT UYGULAMASI: FÄ°NANSAL ANALÄ°Z
# -----------------------------------------------------------------------------
# AmaÃ§:
# - GÃ¼nlÃ¼k getiri dizisinden temel risk/performans metrikleri hesaplama
# - Ortalama getiri, volatilite (standart sapma), basit Sharpe oranÄ±
# - KÃ¼mÃ¼latif getiri ve maximum drawdown (en bÃ¼yÃ¼k dÃ¼ÅŸÃ¼ÅŸ) hesabÄ±
# Dikkat:
# - Sharpe oranÄ± burada basit: avg_return / std. GerÃ§ek Sharpe hesaplamasÄ± genelde
#   risk-free rate dÃ¼ÅŸÃ¼ldÃ¼kten sonra yÄ±llÄ±klaÅŸtÄ±rma iÃ§erir.
# - getiri_oranlari yÃ¼zde (%) olarak verilmiÅŸtir; cumprod iÃ§in 1 + r/100 uygulanÄ±r.

print("\n6.7 GERÃ‡EK HAYAT UYGULAMASI - FÄ°NANSAL ANALÄ°Z:")

getiri_oranlari = np.array([2.5, -1.2, 3.8, 0.5, -2.1, 4.2, 1.8, -0.9, 3.1, 2.8])
print("GÃ¼nlÃ¼k getiri oranlarÄ± (%):", getiri_oranlari)

ortalama_getiri = np.mean(getiri_oranlari)
getiri_volatilitesi = np.std(getiri_oranlari)
# Basit Sharpe: getiri ortalamasÄ± / volatilite (aynÄ± birimde olduklarÄ± iÃ§in doÄŸrudan bÃ¶lÃ¼yoruz)
sharpe_orani = ortalama_getiri / getiri_volatilitesi

print(f"Ortalama getiri: %{ortalama_getiri:.2f}")
print(f"Volatilite: %{getiri_volatilitesi:.2f}")
print(f"Sharpe OranÄ±: {sharpe_orani:.2f}")

# KÃ¼mÃ¼latif getiri: her gÃ¼n iÃ§in (1 + r/100) Ã§arpÄ±mlarÄ±
kumulatif_getiri = np.cumprod(1 + getiri_oranlari/100)
print("KÃ¼mÃ¼latif getiri (zaman iÃ§i):", kumulatif_getiri)

# Maksimum drawdown: geÃ§miÅŸteki maksimuma gÃ¶re yÃ¼zdelik dÃ¼ÅŸÃ¼ÅŸ
maksimum_getiri = np.maximum.accumulate(kumulatif_getiri)
# drawdown genelde negatif deÄŸerler olur; en bÃ¼yÃ¼k (en olumsuz) drawdown en kÃ¼Ã§Ã¼k sayÄ±dÄ±r
drawdown = (kumulatif_getiri - maksimum_getiri) / maksimum_getiri * 100
maksimum_drawdown = np.min(drawdown)
print(f"Maksimum Drawdown: %{maksimum_drawdown:.2f}")

# -----------------------------------------------------------------------------
# KÄ±sa Ã¶zet ve kullanÄ±m Ã¶nerileri
# -----------------------------------------------------------------------------
print("\nÄ°LERÄ° Ä°STATÄ°STÄ°KSEL ANALÄ°Z UYGULAMALARI Ã–ZETÄ°:")
print("- MÃ¼ÅŸteri segmentasyonu: np.unique() + frekans analizi")
print("- Risk yÃ¶netimi: Volatilite ve drawdown analizi")
print("- Performans Ã¶lÃ§Ã¼mÃ¼: Sharpe oranÄ± ve korelasyon analizi")
print("- Trend analizi: KÃ¼mÃ¼latif iÅŸlemler ve sÄ±ralama")

print("\n" + "="*60)
print("NUMPY OTURUM 3 TAMAMLANDI!")
print("Ã–ÄŸrenilen ana baÅŸlÄ±klar:")
print("1. Ä°statistiksel fonksiyonlar ve merkezi eÄŸilim Ã¶lÃ§Ã¼tleri")
print("2. YÃ¼zdelik dilimler ve quantile analizi")
print("3. np.where() ve koÅŸullu iÅŸlemler")
print("4. NaN deÄŸer yÃ¶netimi ve eksik veri stratejileri")
print("5. Dosya iÅŸlemleri (loadtxt, genfromtxt, savetxt)")
print("6. Ä°leri seviye istatistiksel fonksiyonlar")

"""#ufunc

ufunc, NumPy'da eleman bazlÄ± (element-wise) iÅŸlemler yapan yÃ¼ksek performanslÄ± fonksiyonlardÄ±r.

ufuncs, "Evrensel Fonksiyonlar" anlamÄ±na gelir ve nesne Ã¼zerinde iÅŸlem yapan NumPy fonksiyonlarÄ±dÄ±r

**Neden ufuncs kullanmalÄ±yÄ±z?**
ufuncs, elemanlar Ã¼zerinde yineleme yapmaktan Ã§ok daha hÄ±zlÄ± olan NumPy'de vektÃ¶rleÅŸtirmeyi uygulamak iÃ§in kullanÄ±lÄ±r .

AyrÄ±ca hesaplama iÃ§in Ã§ok faydalÄ± olan azaltma, biriktirme vb. gibi yayÄ±n ve ek yÃ¶ntemler de saÄŸlarlar.

*ufuncs ayrÄ±ca ÅŸu gibi ek argÃ¼manlar da alÄ±r:*

* whereÄ°ÅŸlemlerin nerede gerÃ§ekleÅŸeceÄŸini tanÄ±mlayan boolean dizisi veya koÅŸulu.

* dtypeelemanlarÄ±n dÃ¶nÃ¼ÅŸ tipini tanÄ±mlama.

* outdÃ¶nÃ¼ÅŸ deÄŸerinin kopyalanacaÄŸÄ± Ã§Ä±ktÄ± dizisi.
"""

x = [1, 2, 3, 4]
y = [4, 5, 6, 7]
z = []

for i, j in zip(x, y):
  z.append(i + j)
print(z)

z = np.add(x, y)

print(z)

"""# Kendi ufunc'unuzu NasÄ±l OluÅŸturursunuz
Kendi ufunc'Ä±nÄ±zÄ± oluÅŸturmak iÃ§in, Python'daki normal fonksiyonlarda yaptÄ±ÄŸÄ±nÄ±z gibi bir fonksiyon tanÄ±mlamanÄ±z ve ardÄ±ndan bunu metoduyla NumPy ufunc kÃ¼tÃ¼phanenize eklemeniz gerekir frompyfunc().

YÃ¶ntem frompyfunc()aÅŸaÄŸÄ±daki argÃ¼manlarÄ± alÄ±r:

* function- fonksiyonun adÄ±.
* inputs- giriÅŸ argÃ¼manlarÄ±nÄ±n (dizilerin) sayÄ±sÄ±.
* outputs- Ã§Ä±kÄ±ÅŸ dizilerinin sayÄ±sÄ±.
"""

def myadd(x, y):
  return x+y

myadd = np.frompyfunc(myadd, 2, 1)

print(myadd([1, 2, 3, 4], [5, 6, 7, 8]))

"""#aritmetiksel ufuncs"""

arr1 = np.array([10, 11, 12, 13, 14, 15])
arr2 = np.array([20, 21, 22, 23, 24, 25])

newarr = np.add(arr1, arr2)

print(newarr)

newarr = np.subtract(arr1, arr2)

print(newarr)

"""#yuvarlama

OndalÄ±k basamaklarÄ± kaldÄ±rÄ±n ve sÄ±fÄ±ra en yakÄ±n olan ondalÄ±k sayÄ±yÄ± dÃ¶ndÃ¼rÃ¼n. trunc()ve fix()fonksiyonlarÄ±nÄ± kullanÄ±n.
"""

arr = np.trunc([-3.1666, 3.6667])

print(arr)

arr = np.fix([-3.1666, 3.6667])

print(arr)

"""Fonksiyon around(), eÄŸer >=5 ise Ã¶nceki rakamÄ± veya ondalÄ±k basamaÄŸÄ± 1 artÄ±rÄ±r, aksi takdirde hiÃ§bir ÅŸey yapmaz.

Ã–rn. 1 ondalÄ±k basamaÄŸa yuvarlarsak, 3.16666 = 3.2 olur.


"""

arr = np.around(3.1666, 2)

print(arr)

print("\n" + "="*60)
print("=== 2. MATEMATÄ°KSEL UFUNC'LER ===\n")

# 2.1 TEMEL ARÄ°TMETÄ°K UFUNC'LER
print("2.1 TEMEL ARÄ°TMETÄ°K UFUNC'LER:")

x = np.array([1, 2, 3, 4, 5])
y = np.array([10, 20, 30, 40, 50])

print("x:", x)
print("y:", y)

print("\nTemel Aritmetik Ä°ÅŸlemler:")
print("Toplama (add):", np.add(x, y))
print("Ã‡Ä±karma (subtract):", np.subtract(y, x))
print("Ã‡arpma (multiply):", np.multiply(x, y))
print("BÃ¶lme (divide):", np.divide(y, x))
print("Ãœs alma (power):", np.power(x, 2))
print("KarekÃ¶k (sqrt):", np.sqrt(x))

# 2.2 MOD ve BÃ–LME Ä°ÅLEMLERÄ°
print("\n2.2 MOD ve BÃ–LME Ä°ÅLEMLERÄ°:")

print("BÃ¶lÃ¼m (floor_divide):", np.floor_divide(y, x))
print("Kalan (mod/remainder):", np.mod(y, x))
print("Hem bÃ¶lÃ¼m hem kalan:")

bolum, kalan = np.divmod(y, x)  # Ã‡oklu output
print("  BÃ¶lÃ¼m:", bolum)
print("  Kalan:", kalan)

# 2.3 MUTLAK DEÄER ve Ä°ÅARET FONKSÄ°YONLARI
print("\n2.3 MUTLAK DEÄER ve Ä°ÅARET FONKSÄ°YONLARI:")

karisik_sayilar = np.array([-5, 3.7, -2.1, 0, 8.9, -0.5])
print("SayÄ±lar:", karisik_sayilar)
print("Mutlak deÄŸer (absolute):", np.absolute(karisik_sayilar))
print("Ä°ÅŸaret (sign):", np.sign(karisik_sayilar))
print("Pozitif mi? (positive):", np.positive(karisik_sayilar))
print("Negatif mi? (negative):", np.negative(karisik_sayilar))

# 2.4 YUVARLAMA FONKSÄ°YONLARI
print("\n2.4 YUVARLAMA FONKSÄ°YONLARI:")

ondalikli_sayilar = np.array([3.14159, 2.71828, 1.41421, 5.6789, 9.8765])
print("OndalÄ±klÄ± sayÄ±lar:", ondalikli_sayilar)

print("Yuvarla (round):", np.round(ondalikli_sayilar, 2))  # 2 basamak
print("AÅŸaÄŸÄ± yuvarla (floor):", np.floor(ondalikli_sayilar))
print("YukarÄ± yuvarla (ceil):", np.ceil(ondalikli_sayilar))
print("Kesirli kÄ±sÄ±m (frac):", ondalikli_sayilar - np.floor(ondalikli_sayilar))

# 2.5 LOGARÄ°TMÄ°K FONKSÄ°YONLAR
print("\n2.5 LOGARÄ°TMÄ°K FONKSÄ°YONLAR:")

pozitif_sayilar = np.array([1, 10, 100, 1000, 10000])
print("Pozitif sayÄ±lar:", pozitif_sayilar)

print("DoÄŸal logaritma (log):", np.log(pozitif_sayilar))
print("10 tabanlÄ± log (log10):", np.log10(pozitif_sayilar))
print("2 tabanlÄ± log (log2):", np.log2(pozitif_sayilar))
print("Exponential (exp):", np.exp([0, 1, 2, 3]))  # e^0, e^1, e^2, e^3

# 2.6 GERÃ‡EK HAYAT UYGULAMASI: FÄ°NANSAL HESAPLAMALAR
print("\n2.6 GERÃ‡EK HAYAT UYGULAMASI - FÄ°NANSAL HESAPLAMALAR:")

# Basit faiz hesaplama
anapara = np.array([1000, 5000, 10000, 20000])
faiz_orani = 0.08  # %8 yÄ±llÄ±k faiz
yil = np.array([1, 3, 5, 10])

gelecek_deger = anapara * np.power(1 + faiz_orani, yil)
print("Anapara:", anapara)
print("YÄ±l:", yil)
print("Gelecek deÄŸer:", gelecek_deger.astype(int))

# BileÅŸik faiz getirisi
baslangic = 10000
bitis = np.array([11000, 12500, 15000, 18000])
yil_sayisi = 5

getiri_orani = np.power(bitis / baslangic, 1/yil_sayisi) - 1
print(f"\nBaÅŸlangÄ±Ã§: {baslangic} TL")
print("BitiÅŸ deÄŸerleri:", bitis)
print("YÄ±llÄ±k getiri oranlarÄ±: %", (getiri_orani * 100).round(2))